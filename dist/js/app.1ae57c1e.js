(function(e){function t(t){for(var s,o,i=t[0],u=t[1],l=t[2],p=0,m=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},n={app:0},a=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"006c":function(e,t,r){"use strict";var s=r("7f06"),n=r.n(s);n.a},"034f":function(e,t,r){"use strict";var s=r("85ec"),n=r.n(s);n.a},"2cce":function(e,t,r){"use strict";var s=r("ae26"),n=r.n(s);n.a},4883:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"small-container",attrs:{id:"app"}},[r("nav",{staticClass:"navbar navbar-default",attrs:{role:"navigation"}},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"collapse navbar-collapse navbar-ex1-collapse"},[r("ul",{staticClass:"nav navbar-nav"},[r("li",{staticClass:"active"},[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),r("li",[r("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1),r("li",[r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)]),r("ul",{staticClass:"nav navbar-nav navbar-right"},[r("li",[r("router-link",{attrs:{to:"/department"}},[e._v("Department")])],1)])])])]),r("router-view")],1)},a=[],o={},i=o,u=(r("034f"),r("2877")),l=Object(u["a"])(i,n,a,!1,null,null,null),c=l.exports,p=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"home"}},[r("h1",[e._v("Users")]),e.users.length<1?r("p",{staticClass:"empty-table"},[e._v(" No Users Found ")]):r("table",{staticClass:"table table-hover"},[e._m(0),r("tbody",[e._l(e.users,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.f_name)+" "+e._s(t.m_name)+" "+e._s(t.l_name))]),r("td",[e._v(e._s(t.email))]),r("td",[e._v(e._s(t.phone))]),r("td",[e._v(e._s(t.department))]),r("td",[r("button",{staticClass:"btn btn-success",on:{click:function(r){return r.preventDefault(),e.editMode(t)}}},[e._v("Edit")]),r("button",{staticClass:"btn btn-danger",on:{click:function(r){return r.preventDefault(),e.deleteMode(t.id)}}},[e._v("Delete")])])])})),r("p",[e._v(e._s(e.error))])],2)])])])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("ID")]),r("th",[e._v("NAME")]),r("th",[e._v("EMAIL")]),r("th",[e._v("PHONE")]),r("th",[e._v("DEPARTMENT")]),r("th",[e._v("ACTION")])])])}],v=(r("4de4"),r("0d03"),r("d3b7"),r("25f0"),r("96cf"),r("89ba")),h={name:"user-table",props:{users:Array,error:String},mounted:function(){this.getAllUsers()},methods:{getAllUsers:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r.error),r.error?this.error=r.error:this.users=r.data,console.log(this.users),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.error=e.t0.toString();case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),editMode:function(e){console.log(e);var t="/user/"+e.id;console.log(t),this.$router.push({path:t})},deleteMode:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Do you really want to delete?")){e.next=18;break}return e.prev=1,console.log(t),e.next=5,fetch("/user/"+t,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}});case 5:return r=e.sent,console.log(r),e.next=9,r.json();case 9:s=e.sent,console.log(s.error),s.error?(console.log("insside error block"),this.error=s.error):(this.successMessage=s.message,this.users=this.users.filter((function(e){return e.id!==t}))),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0.json()),this.error=e.t0.toString();case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()}},f=h,g=(r("6d8a"),Object(u["a"])(f,m,d,!1,null,"5e875a23",null)),_=g.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"user-form"}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("legend",[e._v("Register")]),r("div",{staticClass:"form-group"},[r("label",[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.f_name,expression:"user.f_name"}],ref:"first",class:{"has-error":e.submitting&&e.invalidFirstName},attrs:{type:"text"},domProps:{value:e.user.f_name},on:{focus:e.clearStatus,keypress:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"f_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Middle Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.m_name,expression:"user.m_name"}],attrs:{type:"text"},domProps:{value:e.user.m_name},on:{input:function(t){t.target.composing||e.$set(e.user,"m_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.l_name,expression:"user.l_name"}],class:{"has-error":e.submitting&&e.invalidLastName},attrs:{type:"text"},domProps:{value:e.user.l_name},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"l_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:{"has-error":e.submitting&&e.invalidEmail},attrs:{type:"email"},domProps:{value:e.user.email},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Phone")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],class:{"has-error":e.submitting&&e.invalidPhone},attrs:{type:"phone"},domProps:{value:e.user.phone},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Department")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.department_id,expression:"user.department_id"}],class:{"has-error":e.submitting&&e.invalidDepartment},on:{focus:e.clearStatus,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"department_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.departments,(function(t){return r("option",{key:t.department_id,domProps:{value:t.department_id}},[e._v(e._s(t.department))])}))],2)]),r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:{"has-error":e.submitting&&e.invalidPass},attrs:{type:"password"},domProps:{value:e.user.password},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("div",{staticClass:"form-group"}),r("div",{staticClass:"form-group"},[r("label",[e._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user._password,expression:"user._password"}],class:{"has-error":e.submitting&&e.invalidRePass},attrs:{type:"password"},domProps:{value:e.user._password},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"_password",t.target.value)}}})]),e.error&&e.submitting?r("p",{staticClass:"error-message"},[e._v(" ❗Please fill out all required fields ")]):e._e(),e.addUserError?r("p",[e._v(" ❗"+e._s(e.addUserError)+" ")]):e._e(),e.successMessage?r("p",[e._v(" ✅ "+e._s(e.successMessage)+" ")]):e._e(),r("button",{staticClass:"btn btn-primary"},[e._v("Add user")])])])},w=[],x={name:"user-form",props:{addUserError:String,successMessage:String,departments:Array},data:function(){return{submitting:!1,success:!1,user:{f_name:"",m_name:"",l_name:"",email:"",phone:"",department_id:"",password:"",_password:""}}},mounted:function(){this.getAllDepartments()},computed:{invalidFirstName:function(){return""===this.user.f_name},invalidLastName:function(){return""===this.user.f_name},invalidEmail:function(){return""===this.user.email},invalidPhone:function(){return""===this.user.phone},invalidDepartment:function(){return""===this.user.department_id},invalidPass:function(){return""===this.user.password},invalidRePass:function(){return""===this.user._password}},methods:{handleSubmit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitting=!0,this.clearStatus(),console.log(this.error),!(this.invalidFirstName||this.invalidLastName||this.invalidEmail||this.invalidPhone||this.invalidDepartment||this.invalidPass||this.invalidRePass)){e.next=6;break}return this.error=!0,e.abrupt("return");case 6:return t=this.user,e.prev=7,console.log(t),e.next=11,fetch("/user",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 11:return r=e.sent,console.log(r),e.next=15,r.json();case 15:s=e.sent,console.log(s),s.error||200!=s.code?(console.log("insside error block"),this.addUserError=s.error):(this.successMessage=s.status,console.log(s.data),this.error=!1,this.success=!0,this.submitting=!1,this.$router.push({path:"/login"})),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](7),console.log(e.t0.json()),this.error=e.t0.toString();case 24:case"end":return e.stop()}}),e,this,[[7,20]])})));function t(){return e.apply(this,arguments)}return t}(),clearStatus:function(){this.success=!1,this.error=!1},getAllDepartments:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/department");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r.error),r.error?this.error=r.error:this.departments=r.data,console.log(this.departments),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.error=e.t0.toString();case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}()}},y=x,C=(r("2cce"),Object(u["a"])(y,b,w,!1,null,"399b7b7e",null)),S=C.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("form",{staticClass:"form-group",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("legend",[e._v("Sign in")]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:{"has-error":e.submitting&&e.invalidEmail},attrs:{type:"email"},domProps:{value:e.user.email},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:{"has-error":e.submitting&&e.invalidPass},attrs:{type:"password"},domProps:{value:e.user.password},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e.error&&e.submitting?r("p",{staticClass:"error-message"},[e._v(" ❗Please fill out all required fields ")]):e._e(),e.loginError?r("p",[e._v(" ❗"+e._s(e.loginError)+" ")]):e._e(),e.successMessage?r("p",[e._v(" ✅ "+e._s(e.successMessage)+" ")]):e._e(),r("button",{staticClass:"btn btn-primary"},[e._v("Login")])])])},k=[],j={name:"user-form",props:{loginError:String,successMessage:String},data:function(){return{submitting:!1,success:!1,user:{phone:"",password:""}}},computed:{invalidEmail:function(){return""===this.user.email},invalidPass:function(){return""===this.user.password}},methods:{handleSubmit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitting=!0,this.clearStatus(),console.log(this.error),!this.invalidEmail&&!this.invalidPass){e.next=6;break}return this.error=!0,e.abrupt("return");case 6:return t=this.user,e.prev=7,console.log(t),e.next=11,fetch("/auth",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 11:return r=e.sent,console.log(r),e.next=15,r.json();case 15:s=e.sent,console.log(s),s.error?(console.log("insside error block"),this.loginError=s.error):(this.successMessage=s.status,console.log(s.data),this.error=!1,this.success=!0,this.submitting=!1,this.$router.push({path:"/"})),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](7),console.log(e.t0.json()),this.error=e.t0.toString();case 24:case"end":return e.stop()}}),e,this,[[7,20]])})));function t(){return e.apply(this,arguments)}return t}(),clearStatus:function(){this.success=!1,this.error=!1}}},E=j,N=(r("f1d5"),Object(u["a"])(E,P,k,!1,null,"d09b7940",null)),O=N.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"edit-user-form"}},[r("form",{staticClass:"form-group",on:{submit:function(t){return t.preventDefault(),e.editUser(t)}}},[r("legend",[e._v("Update")]),r("div",{staticClass:"form-group"},[r("label",[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.f_name,expression:"user.f_name"}],attrs:{type:"text"},domProps:{value:e.user.f_name},on:{input:function(t){t.target.composing||e.$set(e.user,"f_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Middle Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.m_name,expression:"user.m_name"}],attrs:{type:"text"},domProps:{value:e.user.m_name},on:{input:function(t){t.target.composing||e.$set(e.user,"m_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.l_name,expression:"user.l_name"}],attrs:{type:"text"},domProps:{value:e.user.l_name},on:{input:function(t){t.target.composing||e.$set(e.user,"l_name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",readonly:"true"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Phone")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],attrs:{type:"phone"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Department")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.department_id,expression:"user.department_id"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"department_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:"user.department_id"}},[e._v(e._s(e.user.department))]),e._l(e.departments,(function(t){return r("option",{key:t.department_id,domProps:{value:t.department_id}},[e._v(e._s(t.department))])}))],2)]),r("button",{staticClass:"btn btn-success",on:{click:[function(t){return t.preventDefault(),e.editUser(e.user)},function(t){e.showEditFrom=!1}]}},[e._v("Edit user")]),r("button",{staticClass:"btn btn-danger",on:{click:function(t){return t.preventDefault(),e.cancelEdit(t)}}},[e._v("Cancel")])])])])},D=[],M={props:{user:Object,error:String,departments:Array},mounted:function(){this.getUser(),this.getAllDepartments()},methods:{getUser:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.$route.params.id),t=this.$route.params.id,e.prev=2,e.next=5,fetch("/user/"+t);case 5:return r=e.sent,e.next=8,r.json();case 8:s=e.sent,console.log(s),console.log(s.error),s.error?this.error=s.error:this.user=s.data,console.log(this.user),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0),this.error=e.t0.toString();case 19:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(){return e.apply(this,arguments)}return t}(),cancelEdit:function(){this.$router.push({path:"/"})},editUser:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),""!==t.f_name&&""!==t.l_name&&""!==t.phone&&""!==t.department){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,console.log(t.id),e.next=7,fetch("/user/"+t.id,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 7:return r=e.sent,console.log(r),e.next=11,r.json();case 11:s=e.sent,console.log(s.error),s.error?(console.log("insside error block"),this.error=s.error):(this.successMessage=s.message,console.log(s),n=s.data,console.log(n),this.$router.push({path:"/"})),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),console.log(e.t0.json()),this.error=e.t0.toString();case 20:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(t){return e.apply(this,arguments)}return t}(),getAllDepartments:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/department");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r.error),r.error?this.error=r.error:this.departments=r.data,console.log(this.departments),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.error=e.t0.toString();case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}()}},R=M,U=(r("006c"),Object(u["a"])(R,$,D,!1,null,"0a48f5d8",null)),A=U.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"department"}},[r("h1",[e._v("Departments")]),e.departments.length<1?r("p",{staticClass:"empty-table"},[e._v(" No Departmwnt Found ")]):r("table",{staticClass:"table table-hover"},[e._m(0),r("tbody",e._l(e.departments,(function(t){return r("tr",{key:t.department_id},[r("td",[e._v(e._s(t.department_id))]),r("td",[e._v(e._s(t.department))])])})),0)]),e.error?r("p",{staticClass:"text-danger"},[e._v("❗"+e._s(e.error))]):e._e(),e.addDeprtError?r("p",{staticClass:"text-danger"},[e._v("❗"+e._s(e.addDeprtError))]):e._e(),e.successMessage?r("p",{staticClass:"text-success"},[e._v("✅"+e._s(e.successMessage))]):e._e(),r("h1",[e._v("Create Department")]),r("form",{staticClass:"form-group",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("div",{staticClass:"form-group"},[r("label",[e._v("Department Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.department.name,expression:"department.name"}],attrs:{type:"text"},domProps:{value:e.department.name},on:{input:function(t){t.target.composing||e.$set(e.department,"name",t.target.value)}}})]),r("button",{staticClass:"btn btn-primary"},[e._v("Create Department")])])])])},F=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("id")]),r("th",[e._v("name")])])])}],L=(r("99af"),r("284c")),J={name:"department",props:{departments:Array,error:String,addDeprtError:String,successMessage:String},data:function(){return{submitting:!1,success:!1,department:{name:""}}},mounted:function(){this.getAllDepartments()},methods:{editMode:function(e,t){console.log(e),console.log(t),this.user=e},getAllDepartments:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/department");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r.error),r.error?this.error=r.error:this.departments=r.data,console.log(this.departments),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.error=e.t0.toString();case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),handleSubmit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("ins ide hander"),t=this.department,e.prev=2,console.log(t),e.next=6,fetch("/department",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 6:return r=e.sent,console.log(r),e.next=10,r.json();case 10:s=e.sent,console.log(s),s.error?(console.log("insside error block"),this.addDeprtError=s.error):(this.successMessage=s.status,console.log(s.data),this.departments=[].concat(Object(L["a"])(this.departments),[s.data]),this.error=!1,this.success=!0,this.submitting=!1,this.$router.push({path:"/department"})),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0.json()),this.error=e.t0.toString();case 19:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(){return e.apply(this,arguments)}return t}()}},I=J,q=(r("e25f"),Object(u["a"])(I,T,F,!1,null,"7cfd5879",null)),H=q.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Whoops 404!! The page is not available. "),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.back(t)}}},[e._v("Go back")])])},W=[],z={methods:{back:function(){this.$router.go(-1)}}},B=z,K=Object(u["a"])(B,G,W,!1,null,null,null),Q=K.exports,V=[{path:"/",component:_},{path:"/register",component:S},{path:"/login",component:O},{path:"/user/:id",component:A},{path:"/department",component:H},{path:"/404",component:Q,name:"404"}],X=V;s["a"].config.productionTip=!1,s["a"].use(p["a"]);var Y=new p["a"]({routes:X});new s["a"]({router:Y,render:function(e){return e(c)}}).$mount("#app")},"6d8a":function(e,t,r){"use strict";var s=r("d3b8"),n=r.n(s);n.a},"7f06":function(e,t,r){},"81e9":function(e,t,r){},"85ec":function(e,t,r){},ae26:function(e,t,r){},d3b8:function(e,t,r){},e25f:function(e,t,r){"use strict";var s=r("81e9"),n=r.n(s);n.a},f1d5:function(e,t,r){"use strict";var s=r("4883"),n=r.n(s);n.a}});
//# sourceMappingURL=app.1ae57c1e.js.map